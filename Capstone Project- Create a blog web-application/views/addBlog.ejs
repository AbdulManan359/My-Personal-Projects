<!DOCTYPE html>
<html lang="en">

<%- include('partials/head.ejs') %>


    <body class="roboto-fontStyle">
        <%- include('partials/header.ejs') %>
            <div class="container mt-3 mb-4 pb-3">
                <% if(locals.blog) { %>

                    <h2 class="h3 mb-3 fw-normal">Update a Blog</h2>


                    <form action="/edit/<%= blog.userid %>&<%= blog.blogid %>" method="post">
                        <div class="mb-3">
                            <label for="exampleFormControlInput1" class="form-label">Title</label>
                            <input type="text" class="form-control" id="exampleFormControlInput1" name="title"
                                value="<%= blog.blogtitle %>" placeholder="This is the title" required>
                        </div>
                        <div class="mb-3">
                            <label for="exampleFormControlInput2" class="form-label">Image Link</label>
                            <input type="text" class="form-control" id="exampleFormControlInput2" name="imageLink"
                                value="<%=blog.imagelink%>"
                                placeholder="https://images.pexels.com/photos/807598/pexels-photo-807598.jpeg">
                        </div>
                        <div class="mb-3">
                            <label for="exampleFormControlTextarea1" class="form-label">Content</label>
                            <textarea class="form-control" id="exampleFormControlTextarea1" name="content"
                                rows="13"><%= blog.blogcontent %></textarea>
                        </div>


                        <!-- Here at the submit button the patch request has to be defined -->
                        <div class="col-auto">
                            <button type="submit" class="btn btn-primary mb-3">Update</button>
                        </div>
                    </form>



                    <% } else {%>

                        <h2 class="h3 mb-3 fw-normal">Create a Blog</h2>


                        <form action="/addblogs" method="post">

                            <div class="mb-3">
                                <label for="exampleFormControlInput1" class="form-label">Title</label>
                                <input type="text" class="form-control" id="exampleFormControlInput1" name="title"
                                    placeholder="This is the title">
                            </div>
                            <div class="mb-3">
                                <label for="exampleFormControlInput2" class="form-label">Image Link</label>
                                <input type="text" class="form-control" id="exampleFormControlInput2" name="imageLink"
                                    placeholder="https://images.pexels.com/photos/807598/pexels-photo-807598.jpeg">
                            </div>
                            <div class="mb-3">
                                <label for="exampleFormControlTextarea1" class="form-label">Content</label>
                                <textarea class="form-control" id="exampleFormControlTextarea1" name="content"
                                    rows="13"></textarea>
                            </div>
                            <!-- Here at the submit button the patch request has to be defined -->
                            <input type="hidden" name="dateOfCreation"
                                value="<%= new Date().getDate() %>-<%= new Date().getMonth() %>-<%= new Date().getFullYear() %>">
                            <div class="col-auto">
                                <button type="submit" class="btn btn-primary mb-3">Create</button>
                            </div>
                        </form>





                        <% } %>

            </div>
            <%- include('partials/footer.ejs') %>

                <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js"
                    integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r"
                    crossorigin="anonymous"></script>
                <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.min.js"
                    integrity="sha384-G/EV+4j2dNv+tEPo3++6LCgdCROaejBqfUeNjuKAiuXbjrxilcCdDz6ZAVfHWe1Y"
                    crossorigin="anonymous"></script>

                <script src="../../public/script.js"></script>



                <!-- Styling -->
                <style>
                    textarea {
                        height: 50%;
                        width: 50%;

                    }
                </style>

    </body>

</html>